from .._schema import DataStreamConfig, Metadata, DataLocation

{% for stream in streams %}
{{stream.name|replace("-", "_")|upper}}_STREAM = DataStreamConfig(
    kind="{{stream.kind}}",
    name="{{stream.name}}",
    metadata=Metadata(
        labels={
{% for key, val in stream.metadata.labels.items() %}
        "{{key}}": "{{val}}",
{% endfor %}
        }
    ),
    path=DataLocation(
        dir="{{stream.spec.path.dir}}",
        fname="{{stream.spec.path.fname}}",
    ),
    frameRate={{stream.spec.frameRate}},
{% if stream.kind == "dataset/stream/imu" %}
    devices={{stream.spec.devices}},
    acc={{stream.spec.acc}},
    gyro={{stream.spec.gyro}},
    quat={{stream.spec.quat}},
{% elif stream.kind == "dataset/stream/e4" %}
    devices={{stream.spec.devices}},
{% elif stream.kind == "dataset/stream/keypoint" %}
    nodes={
{% for key, val in stream.spec.nodes.items() %}
        {{key}}: "{{val}}",
{% endfor %}
    },
{% endif %}
)


{% endfor %}