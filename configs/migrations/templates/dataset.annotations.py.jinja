from .._schema import AnnotConfig, Label


{% for key, annot in annotations.items() %}
{% if annot.kind == "dataset/annotation/csv" %}
{{key|replace("-", "_")|upper}} = (
{% for act in annot.spec.classes %}
    Label(
{% if annot.name == "openpack-outliers" %}
        id="{{act.id}}",
        name="{{act.category}} / {{act.event}}",
{% else %}
        id={{act.id}},
        name="{{act.name}}",
{% endif %}
        version="{{act.version}}",
        is_ignore={{act.ignore}},
    ),
{% endfor %}
)
{% endif %}


{% endfor %}

{% for key, annot in annotations.items() %}
{{key|replace("-", "_")|upper}}_ANNOTATION = AnnotConfig(
    kind="{{annot.kind}}",
    name="{{annot.name}}",
    metadata={
        "labels": {
{% for key, val in annot.metadata.labels.items() %}
        "{{key}}": "{{val}}",
{% endfor %}
        }
    },
    path={
        "dir": "{{annot.spec.path.dir}}",
        "fname": "{{annot.spec.path.fname}}",
    },
    classes={{key|replace("-1hz", "")|replace("-", "_")|upper}},
)
{% endfor %}
